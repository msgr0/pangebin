May-15 13:21:29.214 [main] DEBUG nextflow.cli.Launcher - $> nextflow run . --input /data/gen-data/small-test -profile conda --output output
May-15 13:21:29.376 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
May-15 13:21:29.403 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/sgro/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
May-15 13:21:29.416 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
May-15 13:21:29.418 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
May-15 13:21:29.422 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
May-15 13:21:29.436 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
May-15 13:21:30.384 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /data/pangebin/nextflow.config
May-15 13:21:30.386 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /data/pangebin/nextflow.config
May-15 13:21:30.404 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `conda`
May-15 13:21:30.542 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [test, mamba, conda, gt, tower, test_set]
May-15 13:21:30.586 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
May-15 13:21:30.608 [main] INFO  nextflow.cli.CmdRun - Launching `./main.nf` [mighty_linnaeus] DSL2 - revision: 5f542a28ba
May-15 13:21:30.609 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
May-15 13:21:30.609 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
May-15 13:21:30.621 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/sgro/.nextflow/secrets/store.json
May-15 13:21:30.626 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@3ac3f6f] - activable => nextflow.secret.LocalSecretsProvider@3ac3f6f
May-15 13:21:30.694 [main] DEBUG nextflow.Session - Session UUID: 7dcdc40e-5917-4be7-a72c-0d92c60175ed
May-15 13:21:30.694 [main] DEBUG nextflow.Session - Run name: mighty_linnaeus
May-15 13:21:30.695 [main] DEBUG nextflow.Session - Executor pool size: 32
May-15 13:21:30.705 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
May-15 13:21:30.741 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (23:01 CEST)
  System: Linux 5.15.0-89-generic
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 21-internal-adhoc.conda.src
  Encoding: UTF-8 (UTF-8)
  Process: 724280@pangebin [10.180.7.171]
  CPUs: 32 - Mem: 125.5 GB (79.9 GB) - Swap: 8 GB (837.8 MB) - Virtual threads ON
May-15 13:21:30.775 [main] DEBUG nextflow.Session - Work-dir: /data/pangebin/work [zfs]
May-15 13:21:30.803 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
May-15 13:21:30.820 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
May-15 13:21:30.880 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
May-15 13:21:30.891 [main] DEBUG nextflow.util.CustomPoolFactory - Creating virtual thread pool
May-15 13:21:30.982 [main] DEBUG nextflow.Session - Session start
May-15 13:21:31.546 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
May-15 13:21:32.404 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.404 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.412 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
May-15 13:21:32.421 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=32; memory=125.5 GB; capacity=32; pollInterval=100ms; dumpInterval=5m
May-15 13:21:32.425 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
May-15 13:21:32.516 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.516 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.522 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.522 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.535 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.535 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.556 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.556 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.561 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.561 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.565 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.566 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.570 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.570 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.575 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.575 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.583 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.584 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.594 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-15 13:21:32.594 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-15 13:21:32.597 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: PANGENOME:ENHANCE, PREPROCESS:FASTA, MILP, PANGEBIN:PLASBIN:GD_SCORE, MAKE, COMPRESS, PANGEBIN:PLASBIN:COMPRESS, PANGEBIN:PLASBIN:MILP, MAKE_INPUT, GENES2CTG, PANGEBIN:PLASBIN:GC_PROBS, FASTA, GFA_TO_FASTA, PANGENOME:MAKE, GC_PROBS, UNPACK_GZ, PACK_GZ, PANGENOME:CLEAN, PUBLISH, PANGEBIN:PLASBIN:GENES2CTG, PROCESS_INPUT_GFA_GPLAS, PANGEBIN:PLASBIN:MAKE_INPUT, ENHANCE, PROCESS_INPUT_GFA, GD_SCORE, CLEAN
May-15 13:21:32.598 [main] DEBUG nextflow.Session - Igniting dataflow network (12)
May-15 13:21:32.605 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREPROCESS:FASTA
May-15 13:21:32.606 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGENOME:MAKE
May-15 13:21:32.607 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGENOME:CLEAN
May-15 13:21:32.607 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGENOME:ENHANCE
May-15 13:21:32.608 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:COMPRESS
May-15 13:21:32.610 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:MAKE_INPUT
May-15 13:21:32.612 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:GC_PROBS
May-15 13:21:32.613 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:GENES2CTG
May-15 13:21:32.614 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:GD_SCORE
May-15 13:21:32.615 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANGEBIN:PLASBIN:MILP
May-15 13:21:32.615 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PUBLISH
May-15 13:21:32.615 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_aaca972feeacfc4f: /data/pangebin/main.nf
  Script_3e616f8898221b4d: /data/pangebin/./workflows/preprocess.nf
  Script_1aa8378c5ac044dd: /data/pangebin/workflows/other/gfautils.nf
  Script_3c706f0086e179ca: /data/pangebin/./workflows/plasbinflow.nf
  Script_10231ffcb8edc553: /data/pangebin/./workflows/pangenome.nf
May-15 13:21:32.615 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
May-15 13:21:32.616 [main] DEBUG nextflow.Session - Session await
May-15 13:21:32.741 [Actor Thread 26] DEBUG nextflow.conda.CondaCache - conda found local env for environment=bioconda::htslib gfapy; path=/opt/mambaforge/envs/env-a6cdd5590f00b1bcdba1a56b75a0fb54
May-15 13:21:32.747 [Actor Thread 24] DEBUG nextflow.util.CacheHelper - Unable to get file attributes file: /data/gen-data/small-test/short.gfa.gz -- Cause: java.nio.file.NoSuchFileException: /data/gen-data/small-test/short.gfa.gz
May-15 13:21:32.747 [Actor Thread 24] DEBUG nextflow.util.CacheHelper - Unable to get file attributes file: /data/gen-data/small-test/skesa.gfa.gz -- Cause: java.nio.file.NoSuchFileException: /data/gen-data/small-test/skesa.gfa.gz
May-15 13:21:32.831 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
May-15 13:21:32.834 [Task submitter] INFO  nextflow.Session - [1a/d9d10f] Submitted process > PREPROCESS:FASTA (1)
May-15 13:21:45.408 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: PREPROCESS:FASTA (1); status: COMPLETED; exit: 0; error: -; workDir: /data/pangebin/work/1a/d9d10fa976f56c55e328c81dd98eec]
May-15 13:21:45.463 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
May-15 13:21:45.464 [Task submitter] INFO  nextflow.Session - [ae/368ef2] Submitted process > PANGENOME:MAKE (1)
May-15 13:22:44.622 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: PANGENOME:MAKE (1); status: COMPLETED; exit: 1; error: -; workDir: /data/pangebin/work/ae/368ef2eaefb0544ed9e76da2e4b4a1]
May-15 13:22:44.628 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=PANGENOME:MAKE (1); work-dir=/data/pangebin/work/ae/368ef2eaefb0544ed9e76da2e4b4a1
  error [nextflow.exception.ProcessFailedException]: Process `PANGENOME:MAKE (1)` terminated with an error exit status (1)
May-15 13:22:44.649 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'PANGENOME:MAKE (1)'

Caused by:
  Process `PANGENOME:MAKE (1)` terminated with an error exit status (1)

Command executed:

  nextflow run nf-core/pangenome -r 1.1.2 -profile conda -resume --input small-test.fasta.gz --n_haplotypes 2 --outdir small-test_nfcore -params-file /data/pangebin/workflows/params/pangenome-params.json
  cp small-test_nfcore/FINAL_GFA/small-test.fasta.gz.gfaffix.unchop.Ygs.view.gfa small-test.pangenome.gfa

Command exit status:
  1

Command output:
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_BUILD                                  -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_UNCHOP                                 -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_SORT                                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_VIEW                                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_STATS                          -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_COLOR                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_POS                        -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_DEPTH                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_INV                        -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_COMPR                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_UNCALLED                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_LAYOUT                         -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_DRAW_MULTIQC                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_DRAW_HEIGHT                    -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:MULTIQC                                          -
  Execution cancelled -- Finishing pending tasks before exit
  -[nf-core/pangenome] Pipeline completed with errors-
  ERROR ~ Error executing process > 'NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX (small-test.fasta.gz)'
  
  Caused by:
    Process `NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX (small-test.fasta.gz)` terminated with an error exit status (1)
  
  Command executed:
  
    samtools \
        faidx \
        small-test.fasta.gz \
    
    
    cat <<-END_VERSIONS > versions.yml
    "NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX":
        samtools: $(echo $(samtools --version 2>&1) | sed 's/^.*samtools //; s/Using.*$//')
    END_VERSIONS
  
  Command exit status:
    1
  
  Command output:
    (empty)
  
  Command error:
    [faidx] Could not build fai index small-test.fasta.gz.fai
  
  Work dir:
    work/0e/d92369f6353a81fba6e24550669265
  
  Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
  
   -- Check '.nextflow.log' file for details

Command error:
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_BUILD                                  -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_UNCHOP                                 -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_SORT                                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_VIEW                                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_STATS                          -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_COLOR                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_POS                        -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_DEPTH                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_INV                        -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_COMPR                      -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_VIZ_UNCALLED                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_LAYOUT                         -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_DRAW_MULTIQC                   -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:PGGB:ODGI_QC:ODGI_DRAW_HEIGHT                    -
  [-        ] process > NFCORE_PANGENOME:PANGENOME:MULTIQC                                          -
  Execution cancelled -- Finishing pending tasks before exit
  -[nf-core/pangenome] Pipeline completed with errors-
  ERROR ~ Error executing process > 'NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX (small-test.fasta.gz)'
  
  Caused by:
    Process `NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX (small-test.fasta.gz)` terminated with an error exit status (1)
  
  Command executed:
  
    samtools \
        faidx \
        small-test.fasta.gz \
    
    
    cat <<-END_VERSIONS > versions.yml
    "NFCORE_PANGENOME:PANGENOME:INPUT_CHECK:SAMTOOLS_FAIDX":
        samtools: $(echo $(samtools --version 2>&1) | sed 's/^.*samtools //; s/Using.*$//')
    END_VERSIONS
  
  Command exit status:
    1
  
  Command output:
    (empty)
  
  Command error:
    [faidx] Could not build fai index small-test.fasta.gz.fai
  
  Work dir:
    work/0e/d92369f6353a81fba6e24550669265
  
  Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
  
   -- Check '.nextflow.log' file for details

Work dir:
  /data/pangebin/work/ae/368ef2eaefb0544ed9e76da2e4b4a1

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
May-15 13:22:44.656 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `PANGENOME:MAKE (1)` terminated with an error exit status (1)
May-15 13:22:44.675 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] PANGEBIN:PLASBIN:GC_PROBS
  status=ACTIVE
  port 0: (queue) closed; channel: -
  port 1: (cntrl) -     ; channel: $

[process] PANGEBIN:PLASBIN:GENES2CTG
  status=ACTIVE
  port 0: (queue) closed; channel: -
  port 1: (cntrl) -     ; channel: $

[process] PANGEBIN:PLASBIN:GD_SCORE
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] PANGEBIN:PLASBIN:MILP
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: asm
  port 2: (value) bound ; channel: seed_len
  port 3: (value) bound ; channel: seed_score
  port 4: (value) bound ; channel: min_pls_len
  port 5: (cntrl) -     ; channel: $

[process] PUBLISH
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

May-15 13:22:44.679 [main] DEBUG nextflow.Session - Session await > all processes finished
May-15 13:22:44.680 [main] DEBUG nextflow.Session - Session await > all barriers passed
May-15 13:22:44.682 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
May-15 13:22:44.689 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=12.5s; failedDuration=59.1s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
May-15 13:22:44.876 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
May-15 13:22:44.900 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
